

+ [ ] ctrl-c and anykey must always work. Also we have a problem were we are stuck, not sure if after recording or before. 50% of runs (2/4)

+ [ ] retries for commands sent from PC to embedded.
  + timeout on the whole initial initialization flow (1 second)
    + guranteed to bring us to a steady state
  + limited number of retries (~5)
  + exit if no response even after all the retries
  + [ ] did the no-start-if-already-transmitting problem go away? (how?). test this. suggested solution: retries on sampler_stop etc.

+ [ ] need bottom-line indication of successful ending (to be displayed to user). successful means:
  + no main-loop deadline misses (50us) (may be included in "no ticks jumps" after changing the ticks to be real wall-clock ticks)

+ [ ] no error message on normal operation - error received from proactor loop, see commit 897665

+ postprocessing:
  [x] clean up data (remove unneeded columns, add time column)
  [ ] temp ugly enum parsing (to be replaced with proper enum parsing at the emotool level later)
  [x] crop data to only full motor cycles
  [x] derive step times and velocity
  [ ] divide data into cycles
  [ ] add statistics
    [ ] cycle time average
    [ ] travel range average
    [ ] velocity average
    [ ] time per direction average
    [ ] velocity average per direction
    [ ] current average
    [ ] flow rate average
    [ ] step time average, std
    [ ] constant-velocity section step time average, std (section is defined as excluding first n steps (~3) and all steps from motor cutoff)
    [ ] all of the above but for each half-cycle instead of averages? i.e. a separate Excel tab with a table, each row is a half-cycle, columns are as above
    [ ] another tab: for each position and direction, step time average & std, velocity average & std, current avg & std
  [ ] steps table like the old logger? 
  [ ] export to Excel
  [ ] graphs:
    [ ] position, velocity, motor state (or better: only mark motor on / off sections), current
    [ ] what else? or just combine everything to one graph and add checkmarks for series on/off (see below)
  [ ] VBA code to change graph x range conveniently (start time, stop time input fields)
  [ ] VBA code to add or remove series from the graph (checkmarks)? maybe there's a better approach?


+ [ ] verify that the recording matches reality. possibly Logic Analyzer recording vs. our recording.

+ [ ] calculate bandwidth based on vars and print it


* LATER
  [ ] reduce cpu usage when transmitting samples. main hog - sampler_sample
  [ ] add enum type parsing. enumerators are children of the type-die (currently unused). we'll probably have to change how the type is decided on and parsed in emotool.
  [ ] signed vs. unsigned int parsing
  [ ] graceful exit: refactor to something cleaner?
  [ ] DMA to serial
  [ ] use CRC hardware (twice, header and payload). make sure results are compatible. test performance difference. 
  [ ] GUI

